generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}


model Categorie {
  id_categorie Int           @id @default(autoincrement())
  nom          String
  date_creation DateTime     @default(now())
  utilisateurs Utilisateur[]
  matchs       Match[]
}

model Utilisateur {
  id_utilisateur Int      @id @default(autoincrement())
  prenom         String
  nom            String
  numero         String
  mail           String   @unique
  mdp_hash       String
  date_creation  DateTime @default(now())
  id_categorie   Int
  categorie      Categorie @relation(fields: [id_categorie], references: [id_categorie])
}

model Match {
  id_match      Int      @id @default(autoincrement())
  date_match    DateTime
  lieu          String?
  date_creation DateTime @default(now())
  id_categorie  Int
  categorie     Categorie @relation(fields: [id_categorie], references: [id_categorie])
  lignes        Ligne[]
  score_domicile Int
  score_exterieur Int
}

model Ligne {
  id_ligne      Int      @id @default(autoincrement())
  nom           String?
  date_creation DateTime @default(now())
  id_match      Int
  match         Match    @relation(fields: [id_match], references: [id_match])
  positions     Json
}
